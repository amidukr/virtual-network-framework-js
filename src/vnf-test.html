<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>QUnit Example</title>
    <link rel="stylesheet" href="css/qunit-2.1.1.css">
</head>
<body>
<div id="qunit"></div>
<div id="qunit-fixture"></div>
<script src="lib/qunit-2.1.1.js"></script>
<script data-main="vnf-test.js" src="lib/require.js"></script>

<script type="text/javascript">
    Timeouts = {}
    TestingProfiles = {}

    TestingProfiles = {
        qunitTestTimeout: 20000,
        logCaptureTimeout: 20000,

        reliableFastHeartbeatInterval: 10,
        reliableFastConnectionInvalidateInterval: 100,
        reliableFastConnectionLostTimeout: 300,
        reliableFastKeepAliveHandshakingChannelTimeout: 200,

        "root:InMemory": {
            rate: 1
        },

        "root:RTC": {
            rate: 3,

            reliableFastHeartbeatInterval: 1000,
            reliableFastConnectionInvalidateInterval: 10000,
            reliableFastConnectionLostTimeout: 30000,
            reliableFastKeepAliveHandshakingChannelTimeout: 2000,
        },

        toAbsoluteInterval: function(profile, timePoints) {
            if(!timePoints) return;

            var rate = TestingProfiles[profile].rate;
            return rate * timePoints;
        },

        getInterval: function(profile, config) {
            var profileConfigurations = TestingProfiles[profile];

            var defaultInterval = TestingProfiles.toAbsoluteInterval(profile, TestingProfiles[config]);

            return profileConfigurations[config] || defaultInterval;
        }
    }

    QUnit.config.testTimeout = TestingProfiles.qunitTestTimeout;
    Timeouts.logCaptureTimeout = TestingProfiles.logCaptureTimeout;


    Timeouts.iceSendTimeout = Math.min(Timeouts.logCaptureTimeout/10, 1000);
</script>


</body>
</html>